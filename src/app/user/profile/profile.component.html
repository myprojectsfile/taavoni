<div class="container-fluid mt-5">
  <div class="row"></div>
</div>
<div class="container-fluid mt-5">
  <div class="row ">
    <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
      <div class="card">
        <div class="d-flex justify-content-center p-2">
          <img class="card-img-top" src="assets/pics/register.png" style="max-width: 128px;" alt="">
        </div>
        <div class="card-body text-center">
          <p class="card-title">ویرایش مشخصات کاربر</p>
          <form style="direction: rtl;" #profileForm="ngForm" (ngSubmit)="saveChanges()">
            <div class="form-group">
              <label for="username" class="pull-right">کد سهامداری</label>
              <input type="text" readonly class="form-control form-control-sm" [(ngModel)]="user.username"
                name="username" id="username" required placeholder="نام کاربری (کد سهامداری)">
            </div>
            <div class="form-group">
              <label for="name" class="pull-right">نام</label>
              <input type="text" class="form-control form-control-sm" [(ngModel)]="user.name" name="name" id="name"
                required placeholder="نام">
            </div>
            <div class="form-group">

              <label for="family" class="pull-right">نام خانوادگی</label>
              <input type="text" class="form-control form-control-sm" [(ngModel)]="user.family" name="family"
                id="family" required placeholder="نام خانوادگی">
            </div>
            <div class="form-group">
              <label for="codeMelli" class="pull-right">کد ملی</label>
              <input type="text" class="form-control form-control-sm" [(ngModel)]="user.codeMelli" name="codeMelli"
                id="codeMelli" required placeholder="کد ملی">
            </div>
            <div class="form-group">
              <label for="mobile" class="pull-right">شماره موبایل</label>
              <input type="text" class="form-control form-control-sm" [(ngModel)]="user.mobile" name="mobile"
                id="mobile" placeholder="شماره موبایل">
            </div>
            <button type="submit" class="btn btn-sm btn-primary"
              [disabled]="!profileForm.dirty || !profileForm.valid">ثبت
              تغییرات
            </button>
          </form>
        </div>
        <div class="card-footer">
          <div *ngIf="errorMessage" class="text-right alert alert-danger" role="alert">
            {{errorMessage}}
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
      <div class="card" style="min-height: 659px;">
        <div class="d-flex justify-content-center p-2">
          <img class="card-img-top" src="assets/pics/login.png" style="max-width: 128px;" alt="">
        </div>
        <div class="card-body text-center">
          <p class="card-title">تغییر کلمه عبور</p>
          <form autocomplete="false" style="direction: rtl;" novalidate #passwordForm="ngForm"
            (ngSubmit)="changePass()">
            <div class="form-group">
              <label for="oldPassword" class="pull-right">کلمه عبور قبلی</label>
              <input autocomplete="new-password" required type="password" class="form-control form-control-sm"
                #oldPassword="ngModel" [(ngModel)]="passwordObject.oldPassword" name="oldPassword" id="oldPassword"
                required placeholder="کلمه عبور قبلی">
              <small class="validation"
                [hidden]="oldPassword.valid || (oldPassword.pristine && !passwordForm.submitted)">
                درج کلمه عبور قبلی الزامی می باشد
              </small>
            </div>
            <div class="form-group">
              <label for="newPassword" class="pull-right">کلمه عبور جدید</label>
              <input autocomplete="new-password" type="password" class="form-control form-control-sm"
                [(ngModel)]="passwordObject.newPassword" #newPassword="ngModel" name="newPassword" id="newPassword"
                app-validateEqual="confirmPassword" reverse="true" required placeholder="کلمه عبور جدید">
              <small class="validation"
                [hidden]="newPassword.valid || (newPassword.pristine && !passwordForm.submitted)">
                درج کلمه عبور الزامی می باشد
              </small>
            </div>
            <div class="form-group">
              <label for="confirmPassword" class="pull-right">تکرار کلمه عبور</label>
              <input autocomplete="new-password" type="password" class="form-control form-control-sm"
                [(ngModel)]="passwordObject.confirmPassword" #confirmPassword="ngModel" name="confirmPassword"
                id="confirmPassword" required app-validateEqual="newPassword" placeholder="تکرار کلمه عبور">
            </div>
            <small class="validation clearfix"
              [hidden]="confirmPassword.valid || (confirmPassword.pristine && !passwordForm.submitted)">
              کلمه عبور و تکرار آن یکسان نیستند
            </small>
            <button type="submit" class="btn btn-sm btn-primary mt-2"
              [disabled]="!passwordForm.dirty || !passwordForm.valid">تغییر
              کلمه عبور</button>
          </form>
        </div>
        <div class="card-footer">
          <div *ngIf="errorMessage" class="text-right alert alert-danger" role="alert">
            {{errorMessage}}
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
      <file-manager [user]="user" #filemanager (userChanged)="userChanged($event)"></file-manager>
    </div>
  </div>
</div>
